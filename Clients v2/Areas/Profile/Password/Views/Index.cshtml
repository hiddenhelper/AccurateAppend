@using AccurateAppend.Websites.Clients.HtmlHelpers.Styles
@model AccurateAppend.Websites.Clients.Areas.Profile.Password.Models.PasswordDetailsModel

@Html.Layout().Promo("My Profile")


<div class="profile-block">
  @using (Html.Layout().Container())
  {
    @Html.Partial("~/Areas/Profile/Shared/_ProfileNavigation.cshtml", "change-password")
    <div class="tab-content">
      <div class="tab-pane fade active show account-information" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">
        <h2>Change Password</h2>
        <div>
          @Html.Partial("~/Views/Shared/_Notification.cshtml")
        </div>
        <div class="col-block">
          @using (Html.Forms().BeginForm("Index", "Password", new {area = "Profile"}))
          {
            using (Html.Forms().BeginFormRow())
            {
              using (Html.Forms().BeginInputHolder())
              {
                @Html.LabelFor(x => x.OldPassword, new {@class = "required"})
                @Html.PasswordFor(x => x.OldPassword, new {@class = "form-control"})
                @Html.ValidationMessageFor(x => x.OldPassword)
              }
            }

            using (Html.Forms().BeginFormRow())
            {
              using (Html.Forms().BeginInputHolder())
              {
                @Html.LabelFor(x => x.NewPassword, new {@class = "required"})
                @Html.PasswordFor(x => x.NewPassword, new {@class = "form-control"})
                @Html.ValidationMessageFor(x => x.NewPassword)
              }
            }

            using (Html.Forms().BeginFormRow())
            {
              using (Html.Forms().BeginInputHolder())
              {
                @Html.LabelFor(x => x.ConfirmPassword, new {@class = "required"})
                @Html.PasswordFor(x => x.ConfirmPassword, new {@class = "form-control"})
                @Html.ValidationMessageFor(x => x.ConfirmPassword)
              }
            }
            using (Html.Forms().BeginFormRow())
            {
              using (Html.Forms().BeginInputHolder())
              {
                <input id="submitBtn" type="submit" value="Update">
              }
            }
          }
        </div>
      </div>
    </div>
  }
</div>
<script type="text/javascript">
  $(document).ready(function() {
    $("#submitBtn").click(function() {
      var btn = $(this);
      btn.prop('disabled', 'true');
      btn.closest('form').submit();
    });
  });
</script>
